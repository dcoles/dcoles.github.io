---
layout: post
title: Street Collisions
date: '2010-04-28T21:02:00.000-07:00'
author: David Coles
tags: 
modified_time: '2018-07-08T22:16:53.981-07:00'
blogger_id: tag:blogger.com,1999:blog-4144304653010663466.post-492107204855194162
blogger_orig_url: https://blog.dcoles.net/2010/04/street-collisions.html
redirect_from:
  - /blog/archives/5-Street-Collisions.html
---

<strong>Disclaimer:</strong>&nbsp;<em>Here be Maths.</em><br /><em><br /></em>So tonight, whilst walking home from University, I came across some people who walking directly across my path. If we both continued on our intended paths we were going to collide. Thus I swung slightly to the&nbsp;<strong>right</strong>&nbsp;to walk behind these people, but alas, they had the same plan and also tried turn&nbsp;<strong>left</strong>&nbsp;to walk behind me. End result? We both stumbled around in the “which way should I move now” dance before we could continue upon our way.<br /><br />I thought that this was kind of interesting in that both of us had attempted to be considerate to the other pedestrian, but instead we had actually just caused another collision. If either one of us had decided to keep walking, we would have happily continued on our way with barely a passing note.<br /><br />On the train home I began to think about this problem and weather I was actually doing the right thing by trying to “be nice” and change my direction to avoid the other person. It’s interesting to note that this is just the same as if two people are walking directly towards each other down the street. If both people decide to take the same action (both turn left, both turn right or both continue straight ahead) a collision will take place (for the purposes of this discussion, flailing around trying to get past each other can be considered a “collision”). Any other combination will lead to unimpeded progress.<br /><br />Lets define this a bit more formally:<br /><br />Each person can take an action, where&nbsp;<code>action ∊ {L, R, S}</code>&nbsp;(Left, Right and Straight respectively). Lets also consider two classes of people. We have the&nbsp;<em>PigHeaded</em>&nbsp;folk who always charge straight ahead (<code>pigheaded = {L: 0.0, R:0.0, S:1.0}</code>) and&nbsp;<em>Considerate</em>&nbsp;folk who try and walk around the other person (for the time being lets just say&nbsp;<code>considerate = {L: 0.5, R:0.5, S:0.0}</code>).<br /><br />Now lets consider the change of a crash given that we (Person 1) are&nbsp;<em>Considerate</em>. Since we’ll always try and walk around, we can never run into a PigHeaded person, so the only way we can collide is if another considerate person turns the same way us us. Thus:<br /><br /><code>Pr(Crash|Considerate_1) = Pr(Considerate_2)×0.5 = Pr(¬PigHeaded_2)×0.5</code><br /><code><br /></code>We can apply similar reasoning to work out what the probability of a crash is if we are&nbsp;<em>PigHeaded</em>&nbsp;instead. PigHeaded people will never collide into considerate people, but will always collide with other PigHeaded folk. Thus:<br /><br /><code>Pr(Crash|PigHeaded_1) = Pr(PigHeaded_2)</code><br /><code><br /></code>We can then combine these two together to work out what the overall probability of a crash is:<br /><br /><pre><code>Pr(Crash) = Pr(PigHeaded_1)×Pr(Crash|PigHeaded_1) + Pr(¬PigHeaded_2)×Pr(Crash|Considerate_1)<br />          = Pr(PigHeaded_1)×Pr(PigHeaded_2) + Pr(¬PigHeaded_2)×Pr(¬PigHeaded_2)×0.5</code></pre><pre><code><br /></code></pre>If we say that&nbsp;<code>p = Pr(PigHeaded)</code>&nbsp;then with a bit of maths this becomes:<br /><br /><pre><code>Pr(Crash) = p×p + (1-p)×(1-p)×0.5<br />          = p^2 + 0.5p^2 - p + 0.5<br />          = 1.5p^2 - p + 0.5</code></pre><pre><code><br /></code></pre><br />Plotting this we get a nice quadratic showing that if everyone was Considerate (p=0.0) we still have a 1-in-4 chance of collision, but if everyone was PigHeaded (p=1.0) everyone would always crash into each other.<br /><br /><img alt="Probability of Crash" class="serendipity_image_left" height="300" src="https://web.archive.org/blog/uploads/walking-crash/pr_crash1.png" width="400" /><br /><br />Now the question is, can we do better?<br /><br />Clearly the direction turned is not entirely random. Remember that I tried to walk&nbsp;<strong>behind</strong>&nbsp;the other person. That’s not a random choice. And consider if we were walking along a street with buildings on one side and open space on the other, it’s quite likely that you’d choose to turn towards the open space rather than into the small gap between the wall.<br /><br />Remember our assumption that considerate people had a 50/50 probability of turning either way. Lets see what happens when replace this with a term representing the correlation between the direction chosen between considerate walkers. If strongly positive correlated (<code>c = 1.0</code>) then the other considerate walker will always turn the same direction as me. If strongly negative correlated (<code>c = -1.0</code>) then they will turn the opposite direction. And if there is no correlation (<code>c = 0.0</code>) then they’re just turning at random.<br /><br />Now if&nbsp;<code>c = 1.0</code>&nbsp;then we will always avoid crashing into considerate person, yet if&nbsp;<code>c = -1.0</code>&nbsp;we will always collide. Thus we can update our probability of a collision given we are considerate:<br /><code>Pr(Crash|Considerate_1) = Pr(Considerate_2)×0.5×(1-c) = Pr(¬PigHeaded_2)×0.5×(1-c)</code><br />And updating our formula for the probability of any crash we get:<br /><br /><pre><code>Pr(Crash) = p×p + (1-p)×(1-p)×0.5<br />          = p^2 + (p^2 - 2×p + 1)×0.5×(1-c)</code></pre><pre><code><br /></code></pre>Now lets plot this again. Since we have two free variables it should technically be a surface, but since it’s rather uniform we can plot it just as a series of lines. The bottom line is&nbsp;<code>c = 1.0</code>&nbsp;whilst the top is&nbsp;<code>c = -1.0</code>&nbsp;with steps of 0.1:<br /><br /><img alt="Probability of Crash (with turning correlation)" class="serendipity_image_left" height="300" src="https://web.archive.org/blog/uploads/walking-crash/pr_crash2.png" width="400" />
